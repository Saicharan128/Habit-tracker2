<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atom Ideal Self Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <header>
        <div class="branding">
            <div class="branding-copy">
                <h1>Atom Personal Insight Studio</h1>
                <p>
                    This workspace helps your clients articulate the person they aspire to be and gives them
                    a clear dashboard to see how closely their routines and reflections align with that ideal.
                    Capture the story, track the habits, and let Atom understand what truly drives them.
                </p>
            </div>
            <img src="/static/img/Forward_logo.png" alt="Atom logo">
        </div>
        <nav class="primary-nav">
            <button type="button" data-target="ideal-self">Ideal Self</button>
            <button type="button" data-target="journaling">Journal</button>
            <button type="button" data-target="habits">Habits</button>
            <button type="button" data-target="insights">Insights</button>
        </nav>
    </header>

    <main>
        <h3 class="section-title">Your growth command center</h3>
        <div class="grid" id="top-grid">
            <section class="card" id="ideal-self">
                <h2>Define the Ideal Self</h2>
                <p>Capture the identity your client is working toward so every habit and reflection has purpose.</p>
                <form id="idealSelfForm" class="form-stack">
                    <div>
                        <label for="idealVision">Vision Statement</label>
                        <textarea id="idealVision" placeholder="Describe the person you're becoming..." maxlength="1200"></textarea>
                    </div>
                    <div>
                        <label for="idealFocusAreas">Focus Areas (comma separated)</label>
                        <input id="idealFocusAreas" type="text" placeholder="e.g. Discipline, Compassion, Creative Energy">
                    </div>
                    <button type="submit" class="primary">Save Ideal Self</button>
                </form>
                <div id="idealSelfSummary" style="margin-top: 18px; display: none;">
                    <div class="badge info">Saved profile</div>
                    <p id="idealVisionCopy" style="margin-top: 12px;"></p>
                    <p id="idealFocusCopy" style="margin-top: 8px; color: var(--text-secondary);"></p>
                </div>
            </section>

            <section class="card" id="journaling">
                <h2>Daily Journal</h2>
                <p>Invite honest reflection so Atom can map mindset patterns over time.</p>
                <form class="form-stack" id="journalForm">
                    <div>
                        <label for="journalInput">Entry</label>
                        <textarea id="journalInput" placeholder="What stood out today?" required></textarea>
                    </div>
                    <button type="submit" class="primary">Save Entry</button>
                </form>
            </section>

            <section class="card" id="habits">
                <h2>Habit Commitments</h2>
                <p>Translate the ideal self into measurable routines your client can track.</p>
                <form class="form-stack" id="habitForm">
                    <div class="input-group">
                        <div>
                            <label for="habitName">Habit name</label>
                            <input id="habitName" type="text" placeholder="e.g. Train at the gym" required>
                        </div>
                        <div>
                            <label for="targetPerWeek">Ideal frequency</label>
                            <select id="targetPerWeek">
                                <option value="7">Daily (7 / week)</option>
                                <option value="6">6 / week</option>
                                <option value="5">5 / week</option>
                                <option value="4">4 / week</option>
                                <option value="3">3 / week</option>
                                <option value="2">2 / week</option>
                                <option value="1">1 / week</option>
                            </select>
                        </div>
                        <div>
                            <label for="habitColor">Chart color</label>
                            <input id="habitColor" type="color" value="#2f7cff">
                        </div>
                    </div>
                    <button type="submit" class="primary">Add Habit</button>
                </form>
                <ul class="habit-list" id="habitList"></ul>
            </section>
        </div>

        <div class="grid" id="bottom-grid" style="margin-top: 32px;">
            <section class="card chart-card" id="insights">
                <header class="card-header">
                    <div class="card-titles">
                        <h2 class="card-title">Ideal vs Actual Progress</h2>
                        <p class="card-subtitle">How closely daily actions match the intended identity.</p>
                    </div>
                    <div class="chart-toolbar">
                        <div class="toolbar-group">
                            <label for="habitSelect" class="muted">Habit</label>
                            <select id="habitSelect"></select>
                        </div>
                        <div class="toolbar-group">
                            <span class="muted">Range</span>
                            <div class="range-buttons" id="rangeButtons"></div>
                        </div>
                    </div>
                </header>
                <div class="chart-body">
                    <div class="chart-placeholder" id="chartEmptyState" role="status" aria-live="polite">
                        Add a habit to see its ideal vs actual progress.
                    </div>
                    <canvas id="habitChart" height="220" aria-hidden="true"></canvas>
                </div>
            </section>

            <section class="card journal-card" id="journalHistory">
                <header class="card-header">
                    <div class="card-titles">
                        <h2 class="card-title">Journal Archive</h2>
                        <p class="card-subtitle">Patterns and narratives across saved reflections.</p>
                    </div>
                </header>
                <div class="journal-chart">
                    <div class="chart-placeholder" id="journalChartEmpty" role="status" aria-live="polite">
                        No entries yet to chart.
                    </div>
                    <canvas id="journalChart" height="140" aria-hidden="true"></canvas>
                </div>
                <ul class="journal-list" id="journalEntries"></ul>
            </section>
        </div>
    </main>

    <footer>
        Built for the Atom team to understand values, consistency, and behaviour change in real time.
    </footer>

    <div class="toast-container" id="toastContainer"></div>

    <script src="/static/js/app.js" defer></script>
</body>
</html>
